<!DOCTYPE html >
<html lang="en" ng-app="codecraft">
<head>
    <title>Lists Of Things</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="../../bower_components/ladda/dist/ladda-themeless.min.css" rel="stylesheet">
    <link href="main.css" rel="stylesheet">
</head>

<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand"
               href="/">Lists Of Things
            </a>
        </div>
    </div>
</nav>

<div class="container main-content" ng-controller="PersonsController">

    <div class="row">
        <div class="col-md-12">
            <form class="form-inline well well-sm">
                <span class="glyphicon glyphicon-search"></span>

                <div class="form-group">
                    <input type="text"
                           class="form-control"
                           id="name"
                           ng-model="search.$"
                           placeholder="Search name..."
                    />
                </div>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <table class="table table-bordered">

                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Birthday</th>
                </tr>
                <!-- this part will display list of persons -->
                <!-- search anywhere in object all object properties by passing $ from ng-model="search.$" -->
                <!-- if $index is index (true) then display colour if $index null then then don't do colour -->
                <!-- this part will display list of persons ng-repeat repeats tr and gets person by person -->
                <tr ng-repeat="person in persons | filter:search"
                    ng-style="{'background-color': $index == selectedIndex ? 'lightgray' : ''}"
                    ng-click="selectPerson($index, person)"
                >
                    <td>{{ $index }}</td> <!-- this will give you row number -->
                    <td>{{ person.name }}</td>
                    <td>{{ person.email }}</td>
                    <td>{{ person.birthdate | date:"longDate" }}</td> <!-- filter will  give you this format March 24, 2015-->
                </tr>

            </table>
        </div>

        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Details</div>
                <div class="panel-body">
                    <dl>
                        <dt>Name</dt>
                        <dd>{{selectedPerson.name}}</dd>
                        <dt>Email</dt>
                        <dd>{{selectedPerson.email}}</dd>
                        <dt>Birthday</dt>
                        <dd>{{selectedPerson.birthdate | date:"longDate"}}</dd>
                        <dt>Phonenumber</dt>
                        <dd>{{selectedPerson.phonenumber}}</dd>
                        <dt>Address</dt>
                        <dd>{{selectedPerson.address}}</dd>
                        <dt>City</dt>
                        <dd>{{selectedPerson.city}}</dd>
                        <dt>Country</dt>
                        <dd>{{selectedPerson.country}}</dd>
                    </dl>
                </div>
            </div>
            <pre>{{ search }}</pre>
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js"></script>
<script src="main.js"></script>
</body>
</html>
